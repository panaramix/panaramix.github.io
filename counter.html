<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Числа</title>

</head>
<body>
    <div id="numbers" class="numbers">
      <div id="debug"></div>
      <h1 id="counter"></h1>
    </div>

    <div id="param" class="param">

      <div class="field">
        <label for="range">Количество разрядов</label>
        <input type="text" id="range" value="2">
      </div>

      <div class="field">
        <label for="amount">Количество чисел</label>
        <input type="text" id="amount" value="10">
      </div>

      <div class="field">
        <label for="interval">Интервал, мс</label>
        <input type="text" id="interval" value="1000">
      </div>

      <div class="field">
        <label for="negative">Отрицательные числа</label>
        <input type="checkbox" id="negative">
      </div>

      <div class="field">
        <label for="nocarryover">Без переноса на разряд</label>
        <input type="checkbox" id="nocarryover" disabled>
      </div>

        <input type="button" value="Начать" onClick="startCount()"/>
    </div>



    <script type="text/javascript">

      var debug = document.getElementById("debug");
      var counter = document.getElementById('counter');
      var param = document.getElementById('param');
      var numbers = document.getElementById('numbers');

      function startCount() {

        var range =  parseInt(document.getElementById("range").value, 10);
        var amount = parseInt(document.getElementById("amount").value, 10);
        var interval = parseInt(document.getElementById("interval").value, 10);
        var negative = document.getElementById("negative").checked;
        var nocarryover = document.getElementById("nocarryover").checked;

        var arr = [];
        var max = Math.pow(10, range) - 1;
        var min = negative ? -max : 1;
        var lastNum = 0;
        var sum = 0;

        for (i = 0; i < amount; i ++) {
          if (nocarryover) {

          } else {
            var randomNum = randomInteger(min, max);
          }
          if (randomNum == 0 || randomNum == lastNum) {
            i --;
            continue;
          }
          arr.push(randomNum);
          lastNum = randomNum;
        }
        //debug.innerHTML = arr;
        numbers.classList.toggle('show');
        param.classList.toggle('hide');

        counter.innerHTML = arr[0];
        var j = 0;
        var intervalId = setInterval(function () {
          if (++ j < arr.length) {
            counter.innerHTML = arr[j];
          }
        }, interval);

        setTimeout(function () {
          clearInterval(intervalId);
          numbers.classList.toggle('show');
          param.classList.toggle('hide');
        }, amount * interval);
      };

      function randomInteger(min, max) {
        var rand = min + Math.random() * (max + 1 - min);
        rand = Math.floor(rand);
        return rand;
      };
    </script>

    <style type="text/css">

        body {
          font-family: sans-serif;
          width:500px;
          height:auto;
          margin-left:auto;
          margin-right:auto;
        }

        .param {
            float:left;
        }

        .param.hide {
            display: none;
        }

        .numbers {
          display: none;
        }

        .numbers.show {
          display: block;
        }

        h1 {
          font-size: 1500%;
        }

        input[type="text"] {
            width: 40px;
        }

        .field {
            clear:both;
            text-align:right;
            line-height:25px;
        }

        label {
            float:left;
            padding-right:10px;
        }
    </style>

</body>
</html>
